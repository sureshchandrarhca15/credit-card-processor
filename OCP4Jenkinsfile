def version, mvnCmd = "mvn -s templates/cicd-settings-nexus3.xml"

pipeline 
{
  agent
  {
   label 'maven'
  }

  stages 
  {
   stage('Build App') 
   {
     steps
     {
       git branch: 'openshift-aws', url: 'https://github.com/sureshchandrarhca15/credit-card-processor.git'
       script {
       def pom = readMavenPom file: 'pom.xml'
       version = pom.version
              }
       sh "mvn install -DskipTests=true"
     }
   }
}
}
