pipeline {
  agent {
         label 'maven'
        }
  stages {
    stage('Checkout') 
    def myRepo, gitCommit, gitBranch, shortGitCommit, previousGitCommit
    {
    try {
           myRepo = checkout scm
           gitCommit = myRepo.GIT_COMMIT
           gitBranch = myRepo.GIT_BRANCH
           shortGitCommit = "${gitCommit[0..10]}"
           previousGitCommit = sh(script: "git rev-parse ${gitCommit}~", returnStdout: true)
        }
    catch(Exception e) {
           println "ERROR => Code Checkout failed, exiting..."
           throw e
        }
  }
}
